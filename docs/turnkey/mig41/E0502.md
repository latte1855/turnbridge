ä¸‹é¢æ˜¯ **E0502 â€” ç‡Ÿæ¥­äººé€²é …å­˜è­‰ç™¼ç¥¨æª”ï¼ˆInputInvoiceï¼‰**
**å®Œæ•´æ¬„ä½è¡¨ + æ¨¹ç‹€åœ–ï¼ˆ100% ä¾†è‡ª MIG4.1.pdfï¼‰**ï¼Œä¸¦é™„å¼•ç”¨è¡Œæ•¸ã€‚

---

# âœ… **E0502 â€” ç‡Ÿæ¥­äººé€²é …å­˜è­‰ç™¼ç¥¨æª”ï¼ˆInputInvoiceï¼‰**

ä¾†æºï¼ˆMIG4.1ï¼‰ï¼š

* è¨Šæ¯åŠŸèƒ½ï¼š
* è¨Šæ¯çµæ§‹åœ–ï¼š
* è¨Šæ¯æ¨¹ç‹€åœ–ï¼ˆMG Lines 1~73ï¼‰ï¼š
* Main å€å¡Šæ¬„ä½å®šç¾©ï¼š
* Details å€å¡Šæ¬„ä½ï¼š
* Amount å€å¡Šæ¬„ä½ï¼š
* Cancel / Reject / Void å€å¡Šæ¬„ä½ï¼š

---

# ğŸ“Œ 1. è¨Šæ¯ç”¨é€”ï¼ˆåŸæ–‡ï¼‰

> ã€Œç‡Ÿæ¥­äººé€²é …å­˜è­‰ç™¼ç¥¨æª”ã€ä¸»è¦ä¿‚æä¾›ç‡Ÿæ¥­äººä¸‹è¼‰é€²é …å­˜è­‰ç™¼ç¥¨è³‡æ–™ï¼Œ
> åŒ…å«ä¸»æª”ã€æ˜ç´°ã€å½™ç¸½ä»¥åŠä½œå»¢ï¼é€€å›ï¼è¨»éŠ·è³‡è¨Šã€‚

Turnbridge éœ€æ”¯æ´ E0502 â†’ CSV / DB Normalizeï¼Œä¾›è²·æ–¹æŸ¥è©¢èˆ‡å°å¸³ã€‚

---

# ğŸ“Œ 2. è¨Šæ¯æ¨¹ç‹€åœ–ï¼ˆä¾ MIGï¼‰

ä¾†æºï¼š

```
InputInvoice
 â”œâ”€â”€ Main
 â”‚     â”œâ”€â”€ InvoiceNumber
 â”‚     â”œâ”€â”€ InvoiceDate
 â”‚     â”œâ”€â”€ InvoiceTime
 â”‚     â”œâ”€â”€ SellerId
 â”‚     â”œâ”€â”€ SellerName
 â”‚     â”œâ”€â”€ BuyerId
 â”‚     â”œâ”€â”€ BuyerName
 â”‚     â”œâ”€â”€ BuyerRemark?
 â”‚     â”œâ”€â”€ CustomsClearanceMark?
 â”‚     â”œâ”€â”€ InvoiceType
 â”‚     â”œâ”€â”€ DonateMark?
 â”‚     â”œâ”€â”€ PrintMark?
 â”‚     â”œâ”€â”€ GroupMark?
 â”‚     â”œâ”€â”€ CarrierType?
 â”‚     â”œâ”€â”€ CarrierId1?
 â”‚     â”œâ”€â”€ CarrierId2?
 â”‚     â”œâ”€â”€ NPOBAN?
 â”‚     â”œâ”€â”€ RandomNumber?
 â”‚     â”œâ”€â”€ BondedAreaConfirm?
 â”‚     â”œâ”€â”€ ZeroTaxRateReason?
 â”‚     â”œâ”€â”€ Reserved1?
 â”‚     â””â”€â”€ Reserved2?
 â”‚
 â”œâ”€â”€ Details (0..1)
 â”‚     â””â”€â”€ ProductItem (1..9999)
 â”‚            â”œâ”€â”€ Description
 â”‚            â”œâ”€â”€ Quantity
 â”‚            â”œâ”€â”€ Unit?
 â”‚            â”œâ”€â”€ UnitPrice
 â”‚            â”œâ”€â”€ TaxType
 â”‚            â”œâ”€â”€ Amount
 â”‚            â”œâ”€â”€ SequenceNumber
 â”‚            â”œâ”€â”€ Remark?
 â”‚            â””â”€â”€ RelateNumber?
 â”‚
 â”œâ”€â”€ Amount? (å½™ç¸½)
 â”‚     â”œâ”€â”€ SalesAmount
 â”‚     â”œâ”€â”€ FreeTaxSalesAmount
 â”‚     â”œâ”€â”€ ZeroTaxSalesAmount
 â”‚     â”œâ”€â”€ TaxType
 â”‚     â”œâ”€â”€ TaxRate
 â”‚     â”œâ”€â”€ TaxAmount
 â”‚     â”œâ”€â”€ TotalAmount
 â”‚     â”œâ”€â”€ DiscountAmount?
 â”‚     â”œâ”€â”€ OriginalCurrencyAmount?
 â”‚     â”œâ”€â”€ ExchangeRate?
 â”‚     â””â”€â”€ Currency?
 â”‚
 â”œâ”€â”€ Cancel?
 â”‚     â”œâ”€â”€ CancelDate
 â”‚     â”œâ”€â”€ CancelTime
 â”‚     â”œâ”€â”€ CancelReason
 â”‚     â”œâ”€â”€ ReturnTaxDocumentNumber?
 â”‚     â””â”€â”€ CancelRemark?
 â”‚
 â”œâ”€â”€ Reject?
 â”‚     â”œâ”€â”€ RejectDate
 â”‚     â”œâ”€â”€ RejectTime
 â”‚     â”œâ”€â”€ RejectReason
 â”‚     â”œâ”€â”€ RejectRemark?
 â”‚     â”œâ”€â”€ Reserved1?
 â”‚     â””â”€â”€ Reserved2?
 â”‚
 â””â”€â”€ Void?
       â”œâ”€â”€ VoidDate
       â”œâ”€â”€ VoidTime
       â”œâ”€â”€ VoidReason
       â”œâ”€â”€ VoidRemark?
       â”œâ”€â”€ Reserved1?
       â””â”€â”€ Reserved2?
```

---

# ğŸ“Œ 3. InputInvoice / Mainï¼ˆä¸»æª”ï¼‰æ¬„ä½è¡¨

ä¾†æºï¼š

| æ¬„ä½                   | å¿…è¦æ€§ | å‹åˆ¥                       |
| -------------------- | --- | ------------------------ |
| InvoiceNumber        | M   | InvoiceNumberType        |
| InvoiceDate          | M   | DateType                 |
| InvoiceTime          | M   | TimeType                 |
| SellerId             | M   | BAN                      |
| SellerName           | M   | string                   |
| BuyerId              | M   | BAN                      |
| BuyerName            | M   | string                   |
| BuyerRemark          | O   | string(20)               |
| CustomsClearanceMark | O   | CustomsClearanceMarkEnum |
| InvoiceType          | M   | InvoiceTypeEnum          |
| DonateMark           | O   | DonateMarkEnum           |
| PrintMark            | O   | PrintMarkEnum            |
| GroupMark            | O   | GroupMarkEnum            |
| CarrierType          | O   | CarrierTypeEnum          |
| CarrierId1           | O   | string                   |
| CarrierId2           | O   | string                   |
| NPOBAN               | O   | BAN                      |
| RandomNumber         | O   | string(4)                |
| BondedAreaConfirm    | O   | BondedAreaEnum           |
| ZeroTaxRateReason    | O   | ZeroTaxRateReasonEnum    |
| Reserved1            | O   | string(20)               |
| Reserved2            | O   | string(100)              |

---

# ğŸ“Œ 4. InputInvoice / Details â†’ ProductItemï¼ˆæ˜ç´°ï¼‰

ä¾†æºï¼š

| æ¬„ä½             | å¿…è¦æ€§ | å‹åˆ¥          |
| -------------- | --- | ----------- |
| Description    | M   | string(256) |
| Quantity       | M   | decimal     |
| Unit           | O   | string(6)   |
| UnitPrice      | M   | decimal     |
| TaxType        | M   | TaxTypeEnum |
| Amount         | M   | decimal     |
| SequenceNumber | M   | integer     |
| Remark         | O   | string(200) |
| RelateNumber   | O   | string(60)  |

---

# ğŸ“Œ 5. InputInvoice / Amountï¼ˆå½™ç¸½ï¼‰

ä¾†æºï¼š

| æ¬„ä½                     | å¿…è¦æ€§ | èªªæ˜    |
| ---------------------- | --- | ----- |
| SalesAmount            | M   | æ‡‰ç¨…éŠ·å”®é¡ |
| FreeTaxSalesAmount     | M   | å…ç¨…éŠ·å”®é¡ |
| ZeroTaxSalesAmount     | M   | é›¶ç¨…éŠ·å”®é¡ |
| TaxType                | M   | èª²ç¨…åˆ¥   |
| TaxRate                | M   | ç¨…ç‡    |
| TaxAmount              | M   | ç¨…é¡    |
| TotalAmount            | M   | ç¸½é‡‘é¡   |
| DiscountAmount         | O   | æŠ˜æ‰£    |
| OriginalCurrencyAmount | O   | åŸå¹£é‡‘é¡  |
| ExchangeRate           | O   | åŒ¯ç‡    |
| Currency               | O   | å¹£åˆ¥    |

---

# ğŸ“Œ 6. InputInvoice / Cancelï¼ˆä½œå»¢ï¼‰

ä¾†æºï¼š

| æ¬„ä½                      | å¿…è¦æ€§ | å‹åˆ¥          |
| ----------------------- | --- | ----------- |
| CancelDate              | O   | DateType    |
| CancelTime              | O   | TimeType    |
| CancelReason            | O   | string(20)  |
| ReturnTaxDocumentNumber | O   | string(60)  |
| CancelRemark            | O   | string(200) |

---

# ğŸ“Œ 7. InputInvoice / Rejectï¼ˆé€€å›ï¼‰

ä¾†æºï¼š

| æ¬„ä½           | å¿…è¦æ€§ | å‹åˆ¥          |
| ------------ | --- | ----------- |
| RejectDate   | O   | DateType    |
| RejectTime   | O   | TimeType    |
| RejectReason | O   | string(20)  |
| RejectRemark | O   | string(200) |
| Reserved1    | O   | string(20)  |
| Reserved2    | O   | string(100) |

---

# ğŸ“Œ 8. InputInvoice / Voidï¼ˆè¨»éŠ·ï¼‰

ä¾†æºï¼š

| æ¬„ä½         | å¿…è¦æ€§ | å‹åˆ¥          |
| ---------- | --- | ----------- |
| VoidDate   | O   | DateType    |
| VoidTime   | O   | TimeType    |
| VoidReason | O   | string(20)  |
| VoidRemark | O   | string(200) |
| Reserved1  | O   | string(20)  |
| Reserved2  | O   | string(100) |

---

# ğŸ¯ **E0502 å®Œæˆï¼**

é€™æ˜¯ E ç³»åˆ—ä¸­æœ€è¤‡é›œçš„ä¸€å€‹ï¼Œå…§å®¹èˆ‡ F0401 å¹¾ä¹ç›¸åŒï¼Œåªå·®åœ¨ï¼š

* **InputInvoice = å¹³å° â†’ è²·æ–¹**
* **F0401 = è³£æ–¹ â†’ å¹³å°**

---
