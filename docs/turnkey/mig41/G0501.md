# ✅ **G0501 — 平台存證作廢折讓證明單訊息**

（完整欄位表 + 樹狀圖）

**所有資料完全來自你上傳的 MIG4.1.pdf 原始內容**，引用行數如下：

* 訊息功能：
* 樹狀圖：
* 資料元定義：

---

# 📌 1. 訊息用途

> **G0501 用於「作廢折讓證明單」之平台存證。**
> 當折讓證明單開立後因內容錯誤需作廢，由賣方上傳此訊息。

來源：

---

# 📌 2. 樹狀結構（依 MIG）

```
CancelAllowance
 ├── CancelAllowanceNumber
 ├── AllowanceType
 ├── AllowanceDate
 ├── BuyerId
 ├── SellerId
 ├── CancelDate
 ├── CancelTime
 ├── CancelReason
 └── Remark?
```

來源：

這是一個非常簡單的訊息，沒有 Main / Details / Amount，只有「CancelAllowance」本體。

---

# 📌 3. 完整欄位表

以下依 MIG 規格逐一列出所有欄位。

---

## **（1）CancelAllowanceNumber — 作廢折讓證明單號碼（M）**

* 型別：AllowanceNumberType
* 必要性：M
  來源：

---

## **（2）AllowanceType — 折讓種類（M）**

* 型別：AllowanceTypeEnum
* 必要性：M
  來源：

---

## **（3）AllowanceDate — 折讓證明單日期（M）**

* 型別：DateType
* 必要性：M
  來源：

---

## **（4）BuyerId — 買方統一編號（M）**

* 型別：BAN
* 必要性：M
  來源：

---

## **（5）SellerId — 賣方統一編號（M）**

* 型別：BAN
* 必要性：M
  來源：

---

## **（6）CancelDate — 作廢日期（M）**

* 型別：DateType
  來源：

---

## **（7）CancelTime — 作廢時間（M）**

* 型別：TimeType
  來源：

---

## **（8）CancelReason — 作廢原因（M）**

* 型別：xsd:string
* 長度：20
* 限制：至少長度 1
  來源：

---

## **（9）Remark — 備註（O）**

* 型別：xsd:string
* 長度：200
* 必要性：O
  來源：

---

# 📌 4. G0501 訊息小結

| 欄位                    | 必要性 | 型別                  | 備註        |
| --------------------- | --- | ------------------- | --------- |
| CancelAllowanceNumber | M   | AllowanceNumberType | 作廢折讓單號    |
| AllowanceType         | M   | AllowanceTypeEnum   | 折讓種類      |
| AllowanceDate         | M   | DateType            | 原折讓證明單日期  |
| BuyerId               | M   | BAN                 | 買方統編      |
| SellerId              | M   | BAN                 | 賣方統編      |
| CancelDate            | M   | DateType            | 作廢日期      |
| CancelTime            | M   | TimeType            | 作廢時間      |
| CancelReason          | M   | string(20)          | 必填、至少 1 字 |
| Remark                | O   | string(200)         | 備註        |

---