{
  "annotations": {
    "changelogDate": "20251106053603"
  },
  "applications": "*",
  "documentation": "上傳批次主檔（UploadJob）\\n追蹤每次上傳的狀態、統計、來源檔資訊與回饋檔關聯。",
  "dto": "mapstruct",
  "fields": [
    {
      "documentation": "批次識別碼（系統產生，對外曝光）；唯一",
      "fieldName": "jobId",
      "fieldType": "String",
      "fieldValidateRules": ["required", "unique", "minlength", "maxlength"],
      "fieldValidateRulesMaxlength": "64",
      "fieldValidateRulesMinlength": "8"
    },
    {
      "documentation": "賣方統編或客戶識別碼（上傳端提供）",
      "fieldName": "sellerId",
      "fieldType": "String",
      "fieldValidateRules": ["required", "minlength", "maxlength"],
      "fieldValidateRulesMaxlength": "32",
      "fieldValidateRulesMinlength": "3"
    },
    {
      "documentation": "賣方名稱（可選；來自客戶資料或 CSV 抬頭）",
      "fieldName": "sellerName",
      "fieldType": "String",
      "fieldValidateRules": ["maxlength"],
      "fieldValidateRulesMaxlength": "128"
    },
    {
      "documentation": "期別 YYYYMM（雙月分區用；可選）",
      "fieldName": "period",
      "fieldType": "String",
      "fieldValidateRules": ["pattern"],
      "fieldValidateRulesPattern": "[0-9]{6}"
    },
    {
      "documentation": "解析 Profile 名稱（Legacy/Canonical 或其他）",
      "fieldName": "profile",
      "fieldType": "String",
      "fieldValidateRules": ["minlength", "maxlength"],
      "fieldValidateRulesMaxlength": "64",
      "fieldValidateRulesMinlength": "3"
    },
    {
      "documentation": "原始上傳檔案名稱（僅中繼資訊，實體位於 StoredObject）",
      "fieldName": "sourceFilename",
      "fieldType": "String",
      "fieldValidateRules": ["maxlength"],
      "fieldValidateRulesMaxlength": "255"
    },
    {
      "documentation": "原始上傳檔案 MIME 類型（text/csv、application/zip…）",
      "fieldName": "sourceMediaType",
      "fieldType": "String",
      "fieldValidateRules": ["maxlength"],
      "fieldValidateRulesMaxlength": "128"
    },
    {
      "documentation": "批次處理狀態",
      "fieldName": "status",
      "fieldType": "UploadJobStatus",
      "fieldTypeDocumentation": "批次狀態（UploadJob.status）",
      "fieldValidateRules": ["required"],
      "fieldValues": "RECEIVED (已接收),PARSING (解析中),VALIDATING (驗證中),PACKING (打包中（MIG/XML）),SENT (已送 Turnkey),RESULT_READY (回饋已備妥),FAILED (失敗（需人工或重送）)",
      "fieldValuesJavadocs": {
        "FAILED": "失敗（需人工或重送）",
        "PACKING": "打包中（MIG/XML）",
        "PARSING": "解析中",
        "RECEIVED": "已接收",
        "RESULT_READY": "回饋已備妥",
        "SENT": "已送 Turnkey",
        "VALIDATING": "驗證中"
      }
    },
    {
      "documentation": "批次總筆數",
      "fieldName": "total",
      "fieldType": "Integer",
      "fieldValidateRules": ["required", "min"],
      "fieldValidateRulesMin": "0"
    },
    {
      "documentation": "驗證通過數",
      "fieldName": "accepted",
      "fieldType": "Integer",
      "fieldValidateRules": ["required", "min"],
      "fieldValidateRulesMin": "0"
    },
    {
      "documentation": "驗證失敗數",
      "fieldName": "failed",
      "fieldType": "Integer",
      "fieldValidateRules": ["required", "min"],
      "fieldValidateRulesMin": "0"
    },
    {
      "documentation": "已送 Turnkey 數",
      "fieldName": "sent",
      "fieldType": "Integer",
      "fieldValidateRules": ["required", "min"],
      "fieldValidateRulesMin": "0"
    },
    {
      "documentation": "備註（營運人員補充或系統說明）",
      "fieldName": "remark",
      "fieldType": "String",
      "fieldValidateRules": ["maxlength"],
      "fieldValidateRulesMaxlength": "1024"
    }
  ],
  "jpaMetamodelFiltering": true,
  "name": "UploadJob",
  "pagination": "pagination",
  "relationships": [
    {
      "otherEntityName": "uploadJobItem",
      "otherEntityRelationshipName": "job",
      "relationshipName": "items",
      "relationshipSide": "left",
      "relationshipType": "one-to-many"
    },
    {
      "otherEntityName": "storedObject",
      "relationshipName": "originalFile",
      "relationshipSide": "left",
      "relationshipType": "many-to-one",
      "relationshipValidateRules": "required"
    },
    {
      "otherEntityName": "storedObject",
      "relationshipName": "resultFile",
      "relationshipSide": "left",
      "relationshipType": "many-to-one"
    }
  ],
  "searchEngine": "no",
  "service": "serviceClass"
}
